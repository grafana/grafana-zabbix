<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Direct DB Connection Configuration - Grafana-Zabbix Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <link href="../../css/custom.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Direct DB Connection Configuration";
    var mkdocs_page_input_path = "configuration/direct_db_datasource.md";
    var mkdocs_page_url = "/grafana-zabbix/configuration/direct_db_datasource/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/sql.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Grafana-Zabbix Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <span class="caption-text">Project</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../..">About Grafana-Zabbix</a>
                </li>
                <li class="">
                    
    <a class="" href="../../features/">Feature Highlights</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../installation/">Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../installation/run_from_master/">Building from sources</a>
                </li>
                <li class="">
                    
    <a class="" href="../../installation/upgrade/">Upgrade</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Configuration</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../">Configuration</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Direct DB Connection Configuration</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#direct-db-data-source-configuration">Direct DB Data Source Configuration</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#security-notes">Security notes</a></li>
        
            <li><a class="toctree-l4" href="#mysql">MySQL</a></li>
        
            <li><a class="toctree-l4" href="#postgresql">PostgreSQL</a></li>
        
            <li><a class="toctree-l4" href="#influxdb">InfluxDB</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../provisioning/">Provisioning</a>
                </li>
                <li class="">
                    
    <a class="" href="../troubleshooting/">Troubleshooting</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">User Guides</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../guides/gettingstarted/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../guides/templating/">Templating</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Reference</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../reference/datasource-zabbix/">Zabbix Datasource</a>
                </li>
                <li class="">
                    
    <a class="" href="../../reference/panel-triggers/">Triggers Panel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../reference/functions/">Functions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../reference/alerting/">Alerting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../reference/direct-db-connection/">Direct DB Connection</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Grafana-Zabbix Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Configuration &raquo;</li>
        
      
    
    <li>Direct DB Connection Configuration</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/alexanderzobnin/grafana-zabbix/blob/docs/docs/sources/configuration/direct_db_datasource.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="direct-db-data-source-configuration">Direct DB Data Source Configuration</h1>
<h2 id="security-notes">Security notes</h2>
<p>Grafana-Zabbix plugin can use MySQL, Postgres or InfluxDB (if Zabbix configured to store history data in InfluxDB) data sources to query history and trend data directly from Zabbix database. In order to execute queries, plugin needs only read access to the <code>history</code>, <code>history_uint</code>, <code>trends</code> and <code>trends_uint</code> tables. To make connection more secure and prevent unnecessary data disclosure, it's highly recommended to grant read access to only that tables. But if you want to use this data source for querying another data, you can
grant <code>SELECT</code> privileges to entire zabbix database. Also, all queries are invoked by grafana server, so you can restrict connection to only grafana host. Here's MySQL example:</p>
<pre><code class="sql">GRANT SELECT ON zabbix.* TO 'grafana'@'grafana-host' identified by 'password';
</code></pre>

<h2 id="mysql">MySQL</h2>
<p>In order to use <em>Direct DB Connection</em> feature you should configure SQL data source first.</p>
<p><img alt="Configure MySQL data source" src="../../img/installation-mysql_ds_config.png" /></p>
<p>Select <em>MySQL</em> data source type and provide your database host address and port (3306 is default for MySQL). Fill
database name (usually, <code>zabbix</code>) and specify credentials.</p>
<h2 id="postgresql">PostgreSQL</h2>
<p>Select <em>PostgreSQL</em> data source type and provide your database host address and port (5432 is default). Fill
database name (usually, <code>zabbix</code>) and specify credentials.</p>
<p><img alt="Configure PostgreSQL data source" src="../../img/installation-postgres_ds_config.png" /></p>
<h2 id="influxdb">InfluxDB</h2>
<p>Select <em>InfluxDB</em> data source type and provide your InfluxDB instance host address and port (8086 is default). Fill
database name you configured in the <a href="https://github.com/i-ky/effluence">effluence</a> module config (usually, <code>zabbix</code>) and specify credentials.</p>
<p><img alt="Configure InfluxDB data source" src="../../img/configuration-influxdb_ds_config.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../provisioning/" class="btn btn-neutral float-right" title="Provisioning">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../" class="btn btn-neutral" title="Configuration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2015-2020, Alexander Zobnin</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/alexanderzobnin/grafana-zabbix/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../provisioning/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
